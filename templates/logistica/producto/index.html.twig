{% extends 'base.html.twig' %}

{% block title %}Productos{% endblock %}

{# {% block stylesheets %}
{{parent()}}
{% endblock %} #}


{% block pageHeader %}
<div class="card-block">
    <h5 class="m-b-10">Productos</h5>
    <p class="text-muted m-b-10">Administre los productos existente. Agrege nuevos o elimine obsoletos. Para cargar stock dirigase al menú Inventario.</p>
    {# <ul class="breadcrumb-title b-t-default p-t-10">
        <li class="breadcrumb-item">
            <a href="index.html"> <i class="fa fa-home"></i> </a>
        </li>
        <li class="breadcrumb-item"><a href="#!">Comunicarse soporte</a>
        </li>
    </ul> #}
</div>

{% endblock %}


{% block pageBody %}

<div class="card">
    
    <div class="card-header">
        {# <h5>Product List</h5> #}
        <a href="{{path('app_producto_new')}}"><button type="button" class="btn btn-primary waves-effect waves-light f-left d-inline-block md-trigger"
        data-modal="modal-13"> <i class="icofont icofont-plus m-r-5"></i> Agregar nuevo producto</button></a>
    </div>
    
    <div class="card-block">

        <table id="tablaProducto" class="table table-striped dt-responsive nowrap no-footer dtr-inline collapsed">
            <thead>
                <tr>
                    <th>Imagen</th>                  
                    <th>Código</th>                  
                    <th>Nombre</th>                  
                    <th>Precio</th> 
                    <th>Acciones</th>                  
                </tr>
            </thead>

            <tbody>

                {% for producto in productos %}
                <tr>
                    <td class="pro-list-img" tabindex="0">
                        <div style="max-width:60px; max-height:60px">                
                            <img src="{{asset ('images/Productos/1.png')}}" class="img-fluid" alt="Imagen Prodcuto">                
                        </div>
                    </td>

                    <td class="pro-list-img" tabindex="0">                              
                           {{ producto.codigo }}
                    </td>

                    <td class="pro-name">
                        <h6>{{ producto.nombre }}</h6>
                        <span>{{ producto.descripcion }}</span>
                    </td>

                    <td class="dt-type-text">
                        ${{ producto.precio }}
                    </td>

                    <td class="action-icon">
                        <div class="row">
                            <a href="{{ path('app_producto_edit', {'id': producto.id}) }}" class="m-r-15 text-muted" data-toggle="tooltip" data-placement="top" title=""
                            data-original-title="Editar"><i class="icofont icofont-ui-edit"></i></a>                            
                            <form method="post" action="{{ path('app_producto_delete', {'id': producto.id}) }}" onsubmit="return confirm('Are you sure you want to delete this item?');">
                                <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ producto.id) }}">
                                <button type="submit" class="m-r-15 text-muted"data-toggle="tooltip" data-placement="top" title=""
                                data-original-title="Eliminar" style="border: none; background-color: transparent"><i class="icofont icofont-delete-alt"></i></button>
                            </form>                            
                        </div>                          
                    </td>
                </tr>                
                {% else %}
                <tr>
                    <td colspan="5">No se encontraron registros</td>
                </tr>
                {% endfor %}
                
            </tbody>

       </table>
    </div>
</div>


{% endblock %}


{% block javascripts %}
{{ parent() }}
<script>
    setTimeout(function () {         

        $('#tablaProducto').DataTable({
            "responsive": true,
            "autoWidth": true,            
            "language": {
                "sProcessing": "Procesando...",
                // "sLengthMenu": "Mostrando _MENU_ productos",
                "sLengthMenu": '',
                "sZeroRecords": "No se encontraron resultados",
                "sEmptyTable": "Ningún dato disponible en esta tabla",
                "sInfo": "Mostrando productos del _START_ al _END_ de un total de _TOTAL_ productos",
                "sInfo": '',
                "sInfoEmpty": "Mostrando productos del 0 al 0 de un total de 0 productos",
                "sInfoFiltered": "(filtrado de un total de _MAX_ productos)",
                "sInfoPostFix": "",
                "sSearch": "Buscar:",
                "sUrl": "",
                "sInfoThousands": ",",
                "sLoadingRecords": "Cargando...",
                "oPaginate": {
                    // "sFirst": "Primero",
                    // "sLast": "Último",
                    "sNext": "Siguiente",
                    "sPrevious": "Anterior"
                },
                "oAria": {
                    "sSortAscending": ": Activar para ordenar la columna de manera ascendente",
                    "sSortDescending": ": Activar para ordenar la columna de manera descendente"
                }
            }
        });
    }, 100);
</script>
{% endblock %}